{"ast":null,"code":"import _objectSpread from\"/home/rilex/redux-cart/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{DECREASE,INCREASE,CLEAR_CART,REMOVE,GET_TOTALS,TOGGLE_AMOUNT}from'../action';// items\nimport cartItems from\"./../cart-items\";//initial store\nvar initialStore={cart:cartItems,total:0,amount:0};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialStore;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case DECREASE:var tempCart1=[];if(action.payload.amount===1){tempCart1=state.cart.filter(function(cartItem){return cartItem.id!==action.payload.id;});}else{tempCart1=state.cart.map(function(cartItem){if(cartItem.id===action.payload.id){cartItem=_objectSpread({},cartItem,{amount:cartItem.amount-1});}return cartItem;});}return _objectSpread({},state,{cart:tempCart1});case INCREASE:var tempCart=state.cart.map(function(cartItem){if(cartItem.id===action.payload.id){cartItem=_objectSpread({},cartItem,{amount:cartItem.amount+1});}return cartItem;});return _objectSpread({},state,{cart:tempCart});case CLEAR_CART:return _objectSpread({},state,{cart:[]});case REMOVE:return _objectSpread({},state,{cart:state.cart.filter(function(cartItem){return cartItem.id!==action.payload.id;})});case GET_TOTALS:var _state$cart$reduce=state.cart.reduce(function(cartTotal,cartItem){var price=cartItem.price,amount=cartItem.amount;var itemTotal=price*amount;cartTotal.total+=itemTotal;cartTotal.amount+=amount;return cartTotal;},{total:0,amount:0}),total=_state$cart$reduce.total,amount=_state$cart$reduce.amount;total=parseFloat(total.toFixed(2));return _objectSpread({},state,{total:total,amount:amount});case TOGGLE_AMOUNT:return _objectSpread({},state,{cart:state.cart.map(function(cartItem){if(cartItem.id===action.payload.id){if(action.payload.toggle==='inc'){return cartItem=_objectSpread({},cartItem,{amount:cartItem.amount+1});}else if(action.payload.toggle==='dec'){return cartItem=_objectSpread({},cartItem,{amount:cartItem.amount-1});}}return cartItem;})});default:return state;}};export default reducer;","map":{"version":3,"sources":["/home/rilex/redux-cart/src/reducers/reducer.js"],"names":["DECREASE","INCREASE","CLEAR_CART","REMOVE","GET_TOTALS","TOGGLE_AMOUNT","cartItems","initialStore","cart","total","amount","reducer","state","action","type","tempCart1","payload","filter","cartItem","id","map","tempCart","reduce","cartTotal","price","itemTotal","parseFloat","toFixed","toggle"],"mappings":"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","sourcesContent":["import { \n    DECREASE, \n    INCREASE, \n    CLEAR_CART, \n    REMOVE, \n    GET_TOTALS,\n    TOGGLE_AMOUNT\n} from '../action'\n// items\nimport cartItems from \"./../cart-items\";\n\n//initial store\nconst initialStore = {\n    cart: cartItems,\n    total: 0,\n    amount: 0\n  }\n\nconst reducer = ( state = initialStore, action) => {\n    switch(action.type){\n        case DECREASE:\n            let tempCart1 = [];\n            if(action.payload.amount === 1){\n                tempCart1 = state.cart.filter((cartItem) => cartItem.id !== action.payload.id)           \n            } \n                else {\n                tempCart1 = state.cart.map((cartItem) => {\n                    if(cartItem.id === action.payload.id){\n                        cartItem = {...cartItem, amount: cartItem.amount - 1}\n                    }\n                    return cartItem\n                })\n            }\n            return {...state, cart: tempCart1 }\n        case INCREASE:\n            let tempCart = state.cart.map((cartItem) => {\n                if(cartItem.id === action.payload.id){\n                    cartItem = {...cartItem, amount: cartItem.amount + 1}\n                }\n                return cartItem\n            })\n            return {...state, cart: tempCart}\n        case CLEAR_CART:\n            return {...state, cart: []}\n        case REMOVE:\n            return {...state, cart: state.cart.filter((cartItem) => cartItem.id !== action.payload.id)}\n        case GET_TOTALS: \n            let { total, amount } = state.cart.reduce((cartTotal, cartItem) => {\n                const { price, amount} = cartItem;\n                const itemTotal = price * amount\n\n                cartTotal.total += itemTotal\n\n                cartTotal.amount += amount;\n                return cartTotal\n            },{\n                total: 0,\n                amount: 0\n            });\n            total = parseFloat(total.toFixed(2))\n            return {...state, total, amount}\n        case TOGGLE_AMOUNT:\n            return {...state, cart: state.cart.map(cartItem => {\n                if(cartItem.id === action.payload.id){\n                    if(action.payload.toggle === 'inc'){\n                        return cartItem = {...cartItem, amount: cartItem.amount + 1}\n                    } else if(action.payload.toggle === 'dec'){\n                        return cartItem = {...cartItem, amount: cartItem.amount - 1}\n                    }\n                }\n                return cartItem\n            })}\n        default:\n            return state\n    }\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}